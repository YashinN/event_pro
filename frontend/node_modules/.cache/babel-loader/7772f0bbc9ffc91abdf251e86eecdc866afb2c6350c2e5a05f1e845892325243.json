{"ast":null,"code":"var _jsxFileName = \"/Users/yashin/Documents/GitHub/Codespace/event_pro/frontend/src/components/MyEventCard.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MyEventCard = props => {\n  _s();\n  // sets loading state for api call.\n  const [loading, setLoading] = useState(null);\n\n  // request to remove user event\n  const delMyEventRequest = async () => {\n    setLoading(true);\n    //  removes event from user events , sends email as identifier and event id.\n    try {\n      const response = await fetch(process.env.REACT_APP_MYEVENTS + props.user.email, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${props.user.token}`\n        },\n        body: JSON.stringify({\n          id: props.event._id\n        })\n      });\n\n      // recevies update list of user events.\n      const data = await response.json();\n\n      // if response ok updates user event states with new data.\n      if (response.ok) {\n        setLoading(null);\n        // updates user events state\n        props.setMyEvents(data);\n        // opens success message model.\n        props.openModal();\n      }\n      setLoading(null);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  // makes delete request on click.\n  const handleDel = () => {\n    delMyEventRequest();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col-12\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `container event-card px-0 ${props.colour}`,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-outline-primary mark-btn btn\",\n        onClick: handleDel,\n        children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner-border \",\n            role: \"status\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"visually-hidden\",\n              children: \"Loading...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this) : \"Remove\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: props.event.image,\n        alt: \"\",\n        className: \"event-card-img\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" p-3 \",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-2\",\n          children: props.event.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-2\",\n          children: [\"Date:\", props.event.date]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-2\",\n          children: [\"Venue:\", props.event.venue]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-2\",\n          children: [\"Time:\", props.event.startTime, \" - \", props.event.endTime]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(MyEventCard, \"GB86ilDv2e+FWPZKEI6FKzMMZ1c=\");\n_c = MyEventCard;\nexport default MyEventCard;\nvar _c;\n$RefreshReg$(_c, \"MyEventCard\");","map":{"version":3,"names":["useState","jsxDEV","_jsxDEV","MyEventCard","props","_s","loading","setLoading","delMyEventRequest","response","fetch","process","env","REACT_APP_MYEVENTS","user","email","method","headers","Authorization","token","body","JSON","stringify","id","event","_id","data","json","ok","setMyEvents","openModal","error","console","log","handleDel","className","children","colour","type","onClick","role","fileName","_jsxFileName","lineNumber","columnNumber","src","image","alt","description","date","venue","startTime","endTime","_c","$RefreshReg$"],"sources":["/Users/yashin/Documents/GitHub/Codespace/event_pro/frontend/src/components/MyEventCard.js"],"sourcesContent":["import { useState } from \"react\";\n\nconst MyEventCard = (props) => {\n  // sets loading state for api call.\n  const [loading, setLoading] = useState(null);\n\n  // request to remove user event\n  const delMyEventRequest = async () => {\n    setLoading(true);\n    //  removes event from user events , sends email as identifier and event id.\n    try {\n      const response = await fetch(\n        process.env.REACT_APP_MYEVENTS + props.user.email,\n        {\n          method: \"DELETE\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${props.user.token}`,\n          },\n          body: JSON.stringify({ id: props.event._id }),\n        }\n      );\n\n      // recevies update list of user events.\n      const data = await response.json();\n\n      // if response ok updates user event states with new data.\n      if (response.ok) {\n        setLoading(null);\n        // updates user events state\n        props.setMyEvents(data);\n        // opens success message model.\n        props.openModal();\n      }\n      setLoading(null);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  // makes delete request on click.\n  const handleDel = () => {\n    delMyEventRequest();\n  };\n\n  return (\n    <div className=\"col-12\">\n      <div className={`container event-card px-0 ${props.colour}`}>\n        <button\n          type=\"button\"\n          className=\"btn btn-outline-primary mark-btn btn\"\n          onClick={handleDel}\n        >\n          {loading ? (\n            <div className=\"loading-container\">\n              <div className=\"spinner-border \" role=\"status\">\n                <span className=\"visually-hidden\">Loading...</span>\n              </div>\n            </div>\n          ) : (\n            \"Remove\"\n          )}\n        </button>\n\n        <img src={props.event.image} alt=\"\" className=\"event-card-img\" />\n\n        <div className=\" p-3 \">\n          <h5 className=\"mb-2\">{props.event.description}</h5>\n          <h5 className=\"mb-2\">Date:{props.event.date}</h5>\n          <h5 className=\"mb-2\">Venue:{props.event.venue}</h5>\n          <h5 className=\"mb-2\">\n            Time:{props.event.startTime} - {props.event.endTime}\n          </h5>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MyEventCard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}