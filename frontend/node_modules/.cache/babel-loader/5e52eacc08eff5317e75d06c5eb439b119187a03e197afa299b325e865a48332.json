{"ast":null,"code":"import _slicedToArray from\"/Users/yashin/Documents/GitHub/Codespace/event_pro/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import EditEventCard from\"../components/EditEventCard\";import FilterComponent from\"../components/FilterComponent\";import MessageModal from\"../components/MessageModal\";import\"./HomePage.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditEventPage=function EditEventPage(props){var _useState=useState(\"All\"),_useState2=_slicedToArray(_useState,2),entity=_useState2[0],setEntity=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),month=_useState4[0],setMonth=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),filterData=_useState6[0],setFilterData=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showModal=_useState8[0],setShowModal=_useState8[1];var getMonth=function getMonth(date){if(!date){return null;}var splitDate=date.split(\"-\");return Number(splitDate[1]);};var filterDate=function filterDate(currentMonth,events){var filterItems=events.filter(function(event){return getMonth(event.date)===currentMonth;});return filterItems;};// sets entity or type of media when radio fields are selected.\nvar entityHandler=function entityHandler(e){// sets entity type eg. movie, ebook ect to be searched.\nsetEntity(e.target.id);var month=e.target.dataset.month;setMonth(month);var data=filterDate(Number(month),props.events);setFilterData(data);};var openModal=function openModal(){setShowModal(true);};var closeModal=function closeModal(){setShowModal(false);};return/*#__PURE__*/_jsxs(\"section\",{className:\"container-fluid section-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container events-wrapper\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"main-title\",children:\"Manage Events\"}),/*#__PURE__*/_jsx(FilterComponent,{entity:entity,entityHandler:entityHandler}),/*#__PURE__*/_jsxs(\"h2\",{className:\"mb-5 sec-title\",children:[entity,\" Events\"]}),props.loading?/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Loading...\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"row gy-5\",children:[entity===\"All\"&&props.events.map(function(event,index){return/*#__PURE__*/_jsx(EditEventCard,{event:event,setEvents:props.setEvents,openModal:openModal,colour:index%2===0?\"color-2\":\"color-3\",filterDate:filterDate,month:month,setFilterData:setFilterData,user:props.user},index);}),entity!==\"All\"&&filterData.map(function(event,index){return/*#__PURE__*/_jsx(EditEventCard,{event:event,setEvents:props.setEvents,filterDate:filterDate,month:month,setFilterData:setFilterData,openModal:openModal,colour:index%2===0?\"color-2\":\"color-3\",user:props.user},index);}),props.events.length===0&&entity===\"All\"&&/*#__PURE__*/_jsx(\"h2\",{className:\"text-info\",children:\"No Events ....\"}),filterData.length===0&&entity!==\"All\"&&/*#__PURE__*/_jsxs(\"h2\",{className:\"text-info\",children:[\"No Events in \",entity,\" ....\"]})]})]}),/*#__PURE__*/_jsx(MessageModal,{showModal:showModal,closeModal:closeModal,message:\"Event has been removed!\"})]});};export default EditEventPage;","map":{"version":3,"names":["useState","EditEventCard","FilterComponent","MessageModal","jsx","_jsx","jsxs","_jsxs","EditEventPage","props","_useState","_useState2","_slicedToArray","entity","setEntity","_useState3","_useState4","month","setMonth","_useState5","_useState6","filterData","setFilterData","_useState7","_useState8","showModal","setShowModal","getMonth","date","splitDate","split","Number","filterDate","currentMonth","events","filterItems","filter","event","entityHandler","e","target","id","dataset","data","openModal","closeModal","className","children","loading","role","map","index","setEvents","colour","user","length","message"],"sources":["/Users/yashin/Documents/GitHub/Codespace/event_pro/frontend/src/pages/EditEventPage.js"],"sourcesContent":["import { useState } from \"react\";\n\nimport EditEventCard from \"../components/EditEventCard\";\nimport FilterComponent from \"../components/FilterComponent\";\nimport MessageModal from \"../components/MessageModal\";\n\nimport \"./HomePage.css\";\n\nconst EditEventPage = (props) => {\n  const [entity, setEntity] = useState(\"All\");\n  const [month, setMonth] = useState(1);\n  const [filterData, setFilterData] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n\n  const getMonth = (date) => {\n    if (!date) {\n      return null;\n    }\n    const splitDate = date.split(\"-\");\n    return Number(splitDate[1]);\n  };\n\n  const filterDate = (currentMonth, events) => {\n    const filterItems = events.filter(\n      (event) => getMonth(event.date) === currentMonth\n    );\n    return filterItems;\n  };\n\n  // sets entity or type of media when radio fields are selected.\n  const entityHandler = (e) => {\n    // sets entity type eg. movie, ebook ect to be searched.\n    setEntity(e.target.id);\n    const { month } = e.target.dataset;\n    setMonth(month);\n    const data = filterDate(Number(month), props.events);\n    setFilterData(data);\n  };\n\n  const openModal = () => {\n    setShowModal(true);\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n  };\n\n  return (\n    <section className=\"container-fluid section-wrapper\">\n      <div className=\"container events-wrapper\">\n        <h1 className=\"main-title\">Manage Events</h1>\n        <FilterComponent entity={entity} entityHandler={entityHandler} />\n        <h2 className=\"mb-5 sec-title\">{entity} Events</h2>\n\n        {props.loading ? (\n          <div className=\"loading-container\">\n            <div className=\"spinner-border\" role=\"status\">\n              <span className=\"visually-hidden\">Loading...</span>\n            </div>\n            <span>Loading...</span>\n          </div>\n        ) : (\n          <div className=\"row gy-5\">\n            {entity === \"All\" &&\n              props.events.map((event, index) => (\n                <EditEventCard\n                  event={event}\n                  setEvents={props.setEvents}\n                  openModal={openModal}\n                  colour={index % 2 === 0 ? \"color-2\" : \"color-3\"}\n                  key={index}\n                  filterDate={filterDate}\n                  month={month}\n                  setFilterData={setFilterData}\n                  user={props.user}\n                />\n              ))}\n            {entity !== \"All\" &&\n              filterData.map((event, index) => (\n                <EditEventCard\n                  event={event}\n                  setEvents={props.setEvents}\n                  filterDate={filterDate}\n                  month={month}\n                  setFilterData={setFilterData}\n                  openModal={openModal}\n                  colour={index % 2 === 0 ? \"color-2\" : \"color-3\"}\n                  key={index}\n                  user={props.user}\n                />\n              ))}\n            {props.events.length === 0 && entity === \"All\" && (\n              <h2 className=\"text-info\">No Events ....</h2>\n            )}\n            {filterData.length === 0 && entity !== \"All\" && (\n              <h2 className=\"text-info\">No Events in {entity} ....</h2>\n            )}\n          </div>\n        )}\n      </div>\n      <MessageModal\n        showModal={showModal}\n        closeModal={closeModal}\n        message={\"Event has been removed!\"}\n      />\n    </section>\n  );\n};\n\nexport default EditEventPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}