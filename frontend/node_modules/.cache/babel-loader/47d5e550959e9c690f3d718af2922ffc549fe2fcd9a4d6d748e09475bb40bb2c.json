{"ast":null,"code":"import _slicedToArray from\"/Users/yashin/Documents/GitHub/Codespace/event_pro/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import EventCard from\"../components/EventCard\";import FilterComponent from\"../components/FilterComponent\";import\"./HomePage.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HomePage=function HomePage(props){var _useState=useState(\"All\"),_useState2=_slicedToArray(_useState,2),entity=_useState2[0],setEntity=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),month=_useState4[0],setMonth=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),filterData=_useState6[0],setFilterData=_useState6[1];var getMonth=function getMonth(date){if(!date){return null;}var splitDate=date.split(\"-\");return Number(splitDate[1]);};var filterDate=function filterDate(currentMonth){var filterItems=props.events.filter(function(event){return getMonth(event.date)===currentMonth;});return filterItems;};// sets entity or type of media when radio fields are selected.\nvar entityHandler=function entityHandler(e){// sets entity type eg. movie, ebook ect to be searched.\nsetEntity(e.target.id);var month=e.target.dataset.month;setMonth(month);var data=filterDate(Number(month));setFilterData(data);};return/*#__PURE__*/_jsx(\"section\",{className:\"container-fluid section-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container events-wrapper\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"main-title\",children:\"Events 2023\"}),/*#__PURE__*/_jsx(FilterComponent,{entity:entity,entityHandler:entityHandler}),/*#__PURE__*/_jsxs(\"h2\",{className:\"mb-5 sec-title\",children:[entity,\" Events\"]}),props.loading?/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Loading...\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"row gy-5\",children:[entity===\"All\"&&props.events.map(function(event,index){return/*#__PURE__*/_jsx(EventCard,{event:event,colour:index%2===0?\"color-2\":\"color-3\",isUser:props.isUser,setIsUser:props.setIsUser,loading:props.loading,setMyEvents:props.setMyEvents},index);}),entity!==\"All\"&&filterData.map(function(event,index){return/*#__PURE__*/_jsx(EventCard,{event:event,colour:index%2===0?\"color-2\":\"color-3\",isUser:props.isUser,setIsUser:props.setIsUser,setMyEvents:props.setMyEvents},index);}),props.events.length===0&&entity===\"All\"&&/*#__PURE__*/_jsx(\"h2\",{className:\"text-info\",children:\"No Events ....\"}),filterData.length===0&&entity!==\"All\"&&/*#__PURE__*/_jsxs(\"h2\",{className:\"text-info\",children:[\"No Events in \",entity,\" ....\"]})]})]})});};export default HomePage;","map":{"version":3,"names":["useState","EventCard","FilterComponent","jsx","_jsx","jsxs","_jsxs","HomePage","props","_useState","_useState2","_slicedToArray","entity","setEntity","_useState3","_useState4","month","setMonth","_useState5","_useState6","filterData","setFilterData","getMonth","date","splitDate","split","Number","filterDate","currentMonth","filterItems","events","filter","event","entityHandler","e","target","id","dataset","data","className","children","loading","role","map","index","colour","isUser","setIsUser","setMyEvents","length"],"sources":["/Users/yashin/Documents/GitHub/Codespace/event_pro/frontend/src/pages/HomePage.js"],"sourcesContent":["import { useState } from \"react\";\n\nimport EventCard from \"../components/EventCard\";\nimport FilterComponent from \"../components/FilterComponent\";\n\nimport \"./HomePage.css\";\n\nconst HomePage = (props) => {\n  const [entity, setEntity] = useState(\"All\");\n  const [month, setMonth] = useState(1);\n  const [filterData, setFilterData] = useState([]);\n\n  const getMonth = (date) => {\n    if (!date) {\n      return null;\n    }\n    const splitDate = date.split(\"-\");\n    return Number(splitDate[1]);\n  };\n\n  const filterDate = (currentMonth) => {\n    const filterItems = props.events.filter(\n      (event) => getMonth(event.date) === currentMonth\n    );\n    return filterItems;\n  };\n\n  // sets entity or type of media when radio fields are selected.\n  const entityHandler = (e) => {\n    // sets entity type eg. movie, ebook ect to be searched.\n    setEntity(e.target.id);\n    const { month } = e.target.dataset;\n    setMonth(month);\n    const data = filterDate(Number(month));\n    setFilterData(data);\n  };\n\n  return (\n    <section className=\"container-fluid section-wrapper\">\n      <div className=\"container events-wrapper\">\n        <h1 className=\"main-title\">Events 2023</h1>\n        <FilterComponent entity={entity} entityHandler={entityHandler} />\n        <h2 className=\"mb-5 sec-title\">{entity} Events</h2>\n\n        {props.loading ? (\n          <div className=\"loading-container\">\n            <div className=\"spinner-border\" role=\"status\">\n              <span className=\"visually-hidden\">Loading...</span>\n            </div>\n            <span>Loading...</span>\n          </div>\n        ) : (\n          <div className=\"row gy-5\">\n            {entity === \"All\" &&\n              props.events.map((event, index) => (\n                <EventCard\n                  event={event}\n                  colour={index % 2 === 0 ? \"color-2\" : \"color-3\"}\n                  key={index}\n                  isUser={props.isUser}\n                  setIsUser={props.setIsUser}\n                  loading={props.loading}\n                  setMyEvents={props.setMyEvents}\n                />\n              ))}\n\n            {entity !== \"All\" &&\n              filterData.map((event, index) => (\n                <EventCard\n                  event={event}\n                  colour={index % 2 === 0 ? \"color-2\" : \"color-3\"}\n                  key={index}\n                  isUser={props.isUser}\n                  setIsUser={props.setIsUser}\n                  setMyEvents={props.setMyEvents}\n                />\n              ))}\n            {props.events.length === 0 && entity === \"All\" && (\n              <h2 className=\"text-info\">No Events ....</h2>\n            )}\n            {filterData.length === 0 && entity !== \"All\" && (\n              <h2 className=\"text-info\">No Events in {entity} ....</h2>\n            )}\n          </div>\n        )}\n      </div>\n    </section>\n  );\n};\n\nexport default HomePage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}